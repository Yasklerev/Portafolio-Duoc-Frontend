<h4>Administración de órdenes de pedido</h4>

<button
  *ngIf="rol === 1 || rol === 3"
  type="button"
  class="btn waves-effect waves-light btn-success nuevo"
  (click)="newPurchase()"
>
  Nuevo
</button>

<table
  mat-table
  [dataSource]="dataSource"
  cdkDropList
  cdkDropListOrientation="horizontal"
  (cdkDropListDropped)="drop($event)"
  class="mat-elevation-z4"
>
  <ng-container matColumnDef="numero">
    <th class="columna" mat-header-cell cdkDrag *matHeaderCellDef>
      Nro. Orden
    </th>
    <p>
      <td mat-cell *matCellDef="let element">{{ element.numero }}</td>
    </p>
  </ng-container>

  <ng-container matColumnDef="nombres">
    <th class="columna" mat-header-cell cdkDrag *matHeaderCellDef>
      Datos solicitante
    </th>
    <p>
      <td mat-cell *matCellDef="let element">
        <p></p>
        {{ element.nombres }} - {{ element.correo }}
        <p class="asd"></p>
        <p></p>
      </td>
    </p>
  </ng-container>

  <ng-container matColumnDef="rubro">
    <th class="columna" mat-header-cell cdkDrag *matHeaderCellDef>
      Rubro
    </th>
    <p>
      <td mat-cell *matCellDef="let element">
        <p></p>
        {{ element.rubro }}
        <p class="asd"></p>
        <p></p>
      </td>
    </p>
  </ng-container>

  <ng-container matColumnDef="estado">
    <th class="columna" mat-header-cell cdkDrag *matHeaderCellDef>Estado</th>
    <p>
      <td mat-cell *matCellDef="let element">
        <p></p>
        {{ element.estado }}
        <p class="asd"></p>
        <p></p>
      </td>
    </p>
  </ng-container>

  <ng-container matColumnDef="accion">
    <th class="columna-ultima" mat-header-cell cdkDrag *matHeaderCellDef>
      Acciones
    </th>
    <td mat-cell *matCellDef="let element">
      <button
        type="button"
        class="btn btn-info btn-circle button-action1"
        (click)="detailPurchase(element)"
      >
        <i class="fa fa-file-text"></i>
      </button>

      <button
        *ngIf="rol === 1 || rol === 3"
        type="button"
        class="btn btn-danger btn-circle button-action2"
        (click)="deletePurchase(element)"
      >
        <i class="fa fa-trash"></i>
      </button>
    </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="columns"></tr>
  <tr mat-row *matRowDef="let row; columns: columns"></tr>
</table>
